<!DOCTYPE html>
<html style="min-width:600px;">

    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="popup.css">
    </head>

    <body>
        <h1>Basic CSP Generator</h1>

        <select name="outputSelector">
            <option value="httpHeaderGroup" selected>HTTP Header</option>
            <option value="metaTagGroup">Meta Tag</option>
            <option value="nginxDirectiveGroup">Nginx Directive</option>
        </select>

        <div id="outputWrapper">
            <div>
                <textarea id="httpHeaderGroup" class="visible"></textarea>
                <textarea id="metaTagGroup"></textarea>
                <textarea id="nginxDirectiveGroup"></textarea>
            </div>
            <button id="copyCsp"></button>
        </div>

        <br>

        <details>
            <summary>Resource List</summary>
            <ul id='resourceList'></ul>
        </details>

        <details>
            <summary>About</summary>
            <p>
                When ran on a page, this extension will attempt to discover and group loaded resource origins into CSP directives.
                These directives are then output in common formats.
            </p>
            <p>
                Note: <b>This should be used as a starting point for your CSP only.</b> The extension cannot generate things like nonce directives or analyze not yet loaded content sources.
            </p>
        </details>

        <script src="popup.js"></script>
    </body>
</html>